# Модель - зберігання контактів
class PhonebookModel:
    def __init__(self):
        self.phonebook = {}
    
    def додати_контакт(self, ім_я, прізвище, номер, місто, адреса):
        контакт = {
            'ім_я': ім_я,
            'прізвище': прізвище,
            'номер': номер,
            'місто': місто,
            'адреса': адреса
        }
        self.phonebook[ім_я] = контакт
    
    def видалити_контакт(self, ім_я):
        if ім_я in self.phonebook:
            номер = self.phonebook[ім_я]['номер']
            del self.phonebook[ім_я]
            return True
        else:
            return False

    def знайти_контакт(self, ім_я):
        if ім_я in self.phonebook:
            return self.phonebook[ім_я]
        else:
            return None

    def змінити_контакт(self, ім_я, нові_дані):
        if ім_я in self.phonebook:
            self.phonebook[ім_я] = нові_дані
            return True
        else:
            return False

    def всі_контакти(self):
        return self.phonebook

# Представлення - відображення інформації користувачу
class PhonebookView:
    def показати_повідомлення(self, повідомлення):
        print(повідомлення)
    
    def вивести_контакт(self, контакт):
        if контакт:
            print("Ім'я:", контакт['ім_я'])
            print("Прізвище:", контакт['прізвище'])
            print("Номер:", контакт['номер'])
            print("Місто:", контакт['місто'])
            print("Адреса:", контакт['адреса'])
        else:
            print("Контакт не знайдено.")

    def вивести_всі_контакти(self, контакти):
        if контакти:
            print("{:<15} {:<15} {:<15} {:<15} {:<15}".format("Ім'я", "Прізвище", "Номер", "Місто", "Адреса"))
            for ім_я, контакт in контакти.items():
                print("{:<15} {:<15} {:<15} {:<15} {:<15}".format(
                    контакт['ім_я'], контакт['прізвище'], контакт['номер'], контакт['місто'], контакт['адреса']
                ))
        else:
            print("Телефонна книга порожня.")

# Контролер - обробник запитів користувача
class PhonebookController:
    def __init__(self, модель, представлення):
        self.модель = модель
        self.представлення = представлення
    
    def додати_контакт(self, ім_я, прізвище, номер, місто, адреса):
        self.модель.додати_контакт(ім_я, прізвище, номер, місто, адреса)
        повідомлення = f"Контакт {ім_я} доданий до телефонної книги."
        self.представлення.показати_повідомлення(повідомлення)

    def видалити_контакт(self, ім_я):
        if self.модель.видалити_контакт(ім_я):
            повідомлення = f"Контакт {ім_я} видалений з телефонної книги."
        else:
            повідомлення = f"Контакт з ім'ям {ім_я} не знайдений в телефонній книзі."
        self.представлення.показати_повідомлення(повідомлення)

    def знайти_контакт(self, ім_я):
        контакт = self.модель.знайти_контакт(ім_я)
        self.представлення.вивести_контакт(контакт)

    def змінити_контакт(self, ім_я, нові_дані):
        if self.модель.змінити_контакт(ім_я, нові_дані):
            повідомлення = f"Контакт {ім_я} змінений."
        else:
            повідомлення = f"Контакт з ім'ям {ім_я} не знайдений в телефонній книзі."
        self.представлення.показати_повідомлення(повідомлення)

    def вивести_всі_контакти(self):
        контакти = self.модель.всі_контакти()
        self.представлення.вивести_всі_контакти(контакти)

# Головний цикл програми
if __name__ == "__main__":
    модель = PhonebookModel()
    представлення = PhonebookView()
    контролер = PhonebookController(модель, представлення)

    while True:
        print("\nВиберіть опцію:")
        print("1. Додати контакт")
        print("2. Знайти контакт")
        print("3. Змінити контакт")
        print("4. Видалити контакт")
        print("5. Вивести всі контакти")
        print("6. Вийти")
        опція = input()

        if опція == '1':
            ім_я = input("Введіть ім'я контакту: ")
            прізвище = input("Введіть прізвище контакту: ")
            номер = input("Введіть номер контакту: ")
            місто = input("Введіть місто контакту: ")
            адреса = input("Введіть адресу контакту: ")
            контролер.додати_контакт(ім_я, прізвище, номер, місто, адреса)
        elif опція == '2':
            ім_я = input("Введіть ім'я контакту для пошуку: ")
            контролер.знайти_контакт(ім_я)
        elif опція == '3':
            ім_я = input("Введіть ім'я контакту для зміни: ")
            нові_дані = {}
            нові_дані['ім_я'] = input("Нове ім'я контакту: ")
            нові_дані['прізвище'] = input("Нове прізвище контакту: ")
            нові_дані['номер'] = input("Новий номер контакту: ")
            нові_дані['місто'] = input("Нове місто контакту: ")
            нові_дані['адреса'] = input("Нова адреса контакту: ")
            контролер.змінити_контакт(ім_я, нові_дані)
        elif опція == '4':
            ім_я = input("Введіть ім'я контакту для видалення: ")
            контролер.видалити_контакт(ім_я)
        elif опція == '5':
            контролер.вивести_всі_контакти()
        elif опція == '6':
            print("Дякую за використання телефонної книги. До побачення!")
            break
        else:
            print("Невірна опція. Будь ласка, виберіть 1, 2, 3, 4, 5 або 6.")
